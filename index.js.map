{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport function getImagesByQuery(query) {\n  return axios\n    .get('https://pixabay.com/api/', {\n      params: {\n        key: '53385798-f9f5c437f9a7cc006b35ba392',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n      },\n    })\n    .then(res => res.data)\n    .catch(err => {\n      console.log(err);\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nlet lightbox;\n\nexport function createGallery(images) {\n  const li = images\n    .map(\n      image =>\n        `<li class=\"gallery-item\"><a class=\"gallery-link\" href=\"${image.largeImageURL}\"><img\n      class=\"gallery-image\"\n      src=\"${image.webformatURL}\"\n      data-source=\"${image.largeImageURL}\"\n      alt=\"${image.tags}\"\n    /></a><div class=\"img-data\"><div><h5>Likes</h5><p>${image.likes}</p></div><div><h5>Views</h5><p>${image.views}</p></div><div><h5>Comments</h5><p>${image.comments}</p></div><div><h5>Downloads</h5><p>${image.downloads}</p></div></div></li>`\n    )\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', li);\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery-item a', {\n      captions: true,\n      captionsData: 'alt',\n      captionDelay: 250,\n      animationSpeed: 300,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.classList.remove('hidden');\n  clearGallery();\n}\n\nexport function hideLoader() {\n  loader.classList.add('hidden');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getImagesByQuery } from './js/pixabay-api';\nimport { createGallery } from './js/render-functions';\nimport { clearGallery } from './js/render-functions';\nimport { showLoader } from './js/render-functions';\nimport { hideLoader } from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst input = form.querySelector('input[name=\"search-text\"]');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const query = input.value.trim();\n\n  showLoader();\n\n  getImagesByQuery(query)\n    .then(data => {\n      clearGallery();\n      if (data.hits.length === 0) {\n        setTimeout(() => {\n          iziToast.error({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            backgroundColor: '#EF4040',\n            messageColor: '#fff',\n          });\n        }, 250);\n        return;\n      }\n\n      createGallery(data.hits);\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n"],"names":["getImagesByQuery","query","axios","res","err","gallery","loader","lightbox","createGallery","images","li","image","SimpleLightbox","clearGallery","showLoader","hideLoader","form","input","e","data","iziToast"],"mappings":"owBAEO,SAASA,EAAiBC,EAAO,CACtC,OAAOC,EACJ,IAAI,2BAA4B,CAC/B,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACb,CACP,CAAK,EACA,KAAKE,GAAOA,EAAI,IAAI,EACpB,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,CACL,CCdA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAKD,EACR,IACCE,GACE,0DAA0DA,EAAM,aAAa;AAAA;AAAA,aAExEA,EAAM,YAAY;AAAA,qBACVA,EAAM,aAAa;AAAA,aAC3BA,EAAM,IAAI;AAAA,wDACiCA,EAAM,KAAK,mCAAmCA,EAAM,KAAK,sCAAsCA,EAAM,QAAQ,uCAAuCA,EAAM,SAAS,uBACtN,EACA,KAAK,EAAE,EACVN,EAAQ,mBAAmB,YAAaK,CAAE,EAErCH,EAQHA,EAAS,QAAO,EAPhBA,EAAW,IAAIK,EAAe,kBAAmB,CAC/C,SAAU,GACV,aAAc,MACd,aAAc,IACd,eAAgB,GACtB,CAAK,CAIL,CAEO,SAASC,GAAe,CAC7BR,EAAQ,UAAY,EACtB,CAEO,SAASS,GAAa,CAC3BR,EAAO,UAAU,OAAO,QAAQ,EAChCO,GACF,CAEO,SAASE,GAAa,CAC3BT,EAAO,UAAU,IAAI,QAAQ,CAC/B,CCpCA,MAAMU,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,cAAc,2BAA2B,EAE5DA,EAAK,iBAAiB,SAAUE,GAAK,CACnCA,EAAE,eAAc,EAEhB,MAAMjB,EAAQgB,EAAM,MAAM,KAAI,EAE9BH,IAEAd,EAAiBC,CAAK,EACnB,KAAKkB,GAAQ,CAEZ,GADAN,IACIM,EAAK,KAAK,SAAW,EAAG,CAC1B,WAAW,IAAM,CACfC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,gBAAiB,UACjB,aAAc,MAC1B,CAAW,CACF,EAAE,GAAG,EACN,MACD,CAEDZ,EAAcW,EAAK,IAAI,CAC7B,CAAK,EACA,MAAMf,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,EACA,QAAQ,IAAM,CACbW,GACN,CAAK,CACL,CAAC"}